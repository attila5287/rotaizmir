{% extends "layout_dash.html" %}
{% block content %}


{% if members.items == [] %}
<p class="text-light text-center text-lg">
    <i class="fa fa-arrow-down text-2xl animated infinite heartBeat" aria-hidden="true"></i> 
    Either are there no members in database or bad db connection perhaps?
  </p>

    {% else %}
    <div class="text-center" name="table-pagination">
    {% for page_num in members.iter_pages(left_edge=1, right_edge=1, left_current=5, right_current=5) %}
      {% if page_num %}
        {% if members.page == page_num %}
          <a class="btn btn-light disabled bg-transparent border-0 mb-4 text-xl" href="{{ url_for('admins.table', page=page_num) }}">
            {{ page_num }}
    
          </a>
        {% else %}
          <a class="btn btn-outline-light mb-4 text-xl" href="{{ url_for('admins.table', page=page_num) }}">{{ page_num }}</a>
        {% endif %}
      {% else %}
        ...
      {% endif %}
    {% endfor %}
    
    </div>
    <table class="table table-hover text-light table-inverse mt-3 opac-80 rnd-2xl">
      <thead class="thead-inverse">
          <tr>
          {% for hdr_icon,th in headers %}
          
          <th class="text-nowrap text-comfo py-3"> 
            <i class="fa{{hdr_icon }}"></i>
            {{th}} 
          </th>
          
          {% endfor %} 
        
          </tr>
      </thead>
      
      <tbody>
      
        {% for row in table %}
          <tr class=" align-items-base">
          {% set rowloop = loop %}
          {% for k,v in row.items() %}
    
            {% if k =="img_url" %}
            <td class="align-items-center"
            id="cell-{{ rowloop.index }}-{{ loop.index }}">
              
              <img class="img-thumbnail border-info bg-info add-anime rnd-lg py-0" src="{{ v }}" alt="member-sm-img"
              style="max-height: 2.5rem;"
              >
            </td>
            
            
    
            {% elif k in [ "linkedin", "twitter", "instagram",] %}
    
            <td class="align-items-center"
            id="cell-{{ rowloop.index }}-{{ loop.index }}">
            <a class="shd-theme" href="{{row[k]}}">
              
              <i class="text-2xl fab fa-{{k}}" aria-hidden="true"></i>
    
            </a>
    
            </td>
            
            
    
            {% elif k in [ "first_name", "last_name", "middle_name",] %}
    
    
            <td class="align-items-center"
            id="cell-{{ rowloop.index }}-{{ loop.index }}">
              {{v.title()}}
            </td>
            
    
            {% elif k in [ "is_admin", "is_prez"] %}
            {% set icon_dict = {
              'y' : 'check',
              'n' : 'times',
            } %}
    
    
            <td class="align-items-center"
            id="cell-{{ rowloop.index }}-{{ loop.index }}">
              
              <i class="fas fa-{{  icon_dict[v] }}"></i>
    
    
            </td>
            
    
            {% elif k ==  "gender" %}
            {% set gender_dict = {
              'f' : 'female',
              'm' : 'male',
            } %}
    
    
            <td class="align-items-center"
            id="cell-{{ rowloop.index }}-{{ loop.index }}">
              
              <i class="fas fa-{{  gender_dict[v] }}"></i>
    
    
            </td>
            
            
            {% else %}
            
            <td id="cell-{{ rowloop.index }}-{{ loop.index }}">
              {{ v }}
            </td>
            
            {% endif %}
    
          {% endfor %}
          </tr>
        {% endfor %}
        </tbody>
    </table>  

    

{% endif %}
  


{% endblock content %}
